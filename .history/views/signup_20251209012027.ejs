<%- include('./partials/header') %>

<style>
  /* Override body background for auth pages */
  body {
    background: linear-gradient(135deg, rgba(1,59,105,0.03) 0%, rgba(42,160,255,0.02) 100%);
  }

  /* This wrapper defines a usable viewport area between header and footer */
  .signup-viewport {
    min-height: calc(100vh - 220px); /* leaves space for header + footer */
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 24px 0;
  }

  .signup-container {
    background: #fff;
    border-radius: 10px;
    box-shadow: 0 12px 30px rgba(2,12,27,0.08);
    padding: 36px;
    max-width: 520px;
    width: 100%;
  }
  .signup-header {
    text-align: center;
    margin-bottom: 22px;
  }
  .signup-header h1 {
    font-size: 26px;
    color: #013b69;
    margin-bottom: 6px;
    font-weight: 700;
  }
  .signup-header p { margin:0; color:#6c757d; }

  .form-group label { font-weight: 600; color: #444; }
  .btn-signup {
    background: linear-gradient(135deg, #2aa0ff 0%, #1aa3ff 100%);
    border: none;
    padding: 10px 0;
    font-weight: 700;
    margin-top: 8px;
    color: #013b69;
    border-radius: 6px;
  }
  .btn-signup:hover {
    background: linear-gradient(135deg, #1aa3ff 0%, #2aa0ff 100%);
    color: #012b44;
  }
  .login-link { text-align: center; margin-top: 18px; }
  .login-link a { color: #2aa0ff; text-decoration: none; font-weight: 700; }
  .login-link a:hover { text-decoration: underline; }
  .alert { margin-bottom: 18px; }

  @media (max-width: 576px){
    .signup-container{ padding:20px; }
    .signup-viewport { min-height: calc(100vh - 260px); }
  }
</style>

<!-- Center the signup card only -->
<div class="signup-viewport" role="main">
  <div class="signup-container" aria-labelledby="signup-heading">
    <div class="signup-header">
      <h1 id="signup-heading"><span style="color:#2aa0ff;">K</span>aran Coaching Center</h1>
      <p class="text-muted">Create your student account</p>
    </div>

    <% if (error && error.length > 0) { %>
      <div class="alert alert-danger alert-dismissible fade show" role="alert">
        <%= error %>
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
    <% } %>

    <form method="POST" novalidate>
      <div class="form-group">
        <label for="username">Username *</label>
        <input type="text" class="form-control" id="username" name="username" required>
      </div>

      <div class="form-group">
        <label for="name">Full Name *</label>
        <input type="text" class="form-control" id="name" name="name" required>
      </div>

      <div class="form-group">
        <label for="email">Email Address *</label>
        <input type="email" class="form-control" id="email" name="email" required>
      </div>

      <div class="form-group">
        <label for="phone">Phone Number</label>
        <input type="tel" class="form-control" id="phone" name="phone">
      </div>

      <div class="form-group">
        <label for="address">Address</label>
        <input type="text" class="form-control" id="address" name="address">
      </div>

      <div class="form-group">
        <label for="password">Password *</label>
        <input type="password" class="form-control" id="password" name="password" required>
      </div>

      <div class="form-group">
        <label for="confirm-password">Confirm Password *</label>
        <input type="password" class="form-control" id="confirm-password" name="confirmPassword" required>
      </div>

      <button type="submit" class="btn btn-block btn-signup" aria-label="Create Account">Create Account</button>
    </form>

    <div class="login-link">
      Already have an account? <a href="/login">Login here</a>
    </div>
  </div>
</div>

<script>
  // Basic password validation
  (function(){
    $('form').on('submit', function(e) {
      const password = $('#password').val();
      const confirmPassword = $('#confirm-password').val();
      if (password !== confirmPassword) {
        e.preventDefault();
        alert('Passwords do not match!');
        return false;
      }
    });
  })();
</script>

<%- include('./partials/footer') %>