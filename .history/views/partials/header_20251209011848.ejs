<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>EShopper - Bootstrap Shop Template</title>
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="Free HTML Templates" name="keywords">
  <meta content="Free HTML Templates" name="description">

  <!-- Favicon -->
  <link href="/img/favicon.ico" rel="icon">

  <!-- Google Web Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">

  <!-- Libraries Stylesheet -->
  <link href="/lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">

  <!-- Customized Bootstrap Stylesheet -->
  <link href="/css/style.css" rel="stylesheet">

  <!-- Inline dev CSS (keeps behaviour identical when copied) -->
  <style>
    :root{
      --primary:#007bff;
      --muted:#6c757d;
      --card-radius:18px;
      --shadow-strong: 0 8px 30px rgba(21,30,60,0.12);
    }

    body{font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;}

    /* Topbar */
    .topbar{background-color: #013b69;}
    .brand-badge{background:linear-gradient(135deg,var(--primary),#2aa0ff);border-radius:8px;padding:6px 10px;color:#fff;font-weight:700}

    /* Navbar vertical (left) */
    .navbar-vertical{min-height:280px}
    .navbar-vertical .nav-link{padding:12px 20px;border-left:4px solid transparent}
    .navbar-vertical .nav-link.active, .navbar-vertical .nav-link:hover{background:#f8f9fb;border-left-color:var(--primary)}

    /* Product card */
    .product-item{border-radius:var(--card-radius);overflow:hidden;box-shadow:var(--shadow-strong);transition:transform .22s ease, box-shadow .22s ease}
    .product-item:hover{transform:translateY(-6px);box-shadow:0 18px 45px rgba(21,30,60,0.16)}
    .product-img-container{background:linear-gradient(180deg,#fff,#fbfdff)}
    .product-img{width:100%;height:100%;object-fit:cover;border-radius:12px}

    .badge-price{background:linear-gradient(90deg,#28a745,#3ad17a);color:#fff;font-weight:600}

    /* Footer small screens spacing */
    @media (max-width:991px){
      .navbar-vertical{display:none}
      .brand-badge{display:inline-block}
      .product-img-container{height:220px}
    }

    /* Improve form inputs */
    input.form-control{border-radius:50px}
    .btn-pill{border-radius:50px}

    /* Back to top */
    .back-to-top{position:fixed;right:20px;bottom:20px;border-radius:50%;width:46px;height:46px;display:flex;align-items:center;justify-content:center}

    /* Ensure collapsed navbar sits above content on mobile */
    @media (max-width: 991px) {
      #navbarCollapse {
        z-index: 1050;
      }
    }

    /* ----- Force-centering logo for small devices (iPhone XR etc) ----- */
    @media (max-width: 480px) {
      .topbar .row {
        padding-left: 8px !important;
        padding-right: 8px !important;
      }

      .topbar .col-8,
      .topbar .col-lg-3.col-8 {
        flex: 0 0 auto !important;
        width: auto !important;
        display: flex !important;
        justify-content: center !important;
        align-items: center !important;
        padding-left: 0.25rem !important;
        padding-right: 0.25rem !important;
        margin: 0 auto !important;
      }

      .topbar .col-8 > a,
      .topbar .col-8 > a.text-decoration-none {
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
        justify-content: center !important;
        width: auto !important;
        padding: 0 !important;
        margin: 0 !important;
        text-align: center !important;
      }

      .topbar .col-8 img,
      .topbar .col-8 img.site-logo,
      a.brand-link img {
        margin-left: 0 !important;
        margin-right: 0 !important;
        margin: 0 auto !important;
        display: block !important;
        width: auto !important;
        max-width: 86% !important;
        height: auto !important;
        object-fit: contain !important;
      }

      .topbar .col-8 a > div,
      .brand-inner {
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
        justify-content: center !important;
        gap: 4px !important;
        padding: 0 !important;
      }

      .topbar .col-8 p {
        margin: 0 !important;
        padding: 0 !important;
        font-size: 12px !important;
        color: #fff !important;
        line-height: 1.05 !important;
        white-space: nowrap !important;
      }

      .topbar .col-lg-6, .topbar .col-lg-3 {
        min-width: 0 !important;
      }

      .topbar .row {
        display: flex !important;
        justify-content: center !important;
        align-items: center !important;
      }
    }
  </style>
</head>

<body>
  <!-- Topbar Start -->
  <div class="container-fluid topbar py-3">
    <div class="row align-items-center px-xl-5">
      <div class="col-lg-3 col-8 d-flex align-items-center">
        <a href="/" class="text-decoration-none d-flex align-items-center">
          <div>
            <img style="margin-left: 32px;"
            src="/logo.png"
            srcset="/logo.png 2x"
            alt="Karan Coaching Centre"
            width="125" height="75"
            loading="eager"
          /> 
          <p style="color: white;">Karan Coaching Center</p>
          </div>
        </a>
      </div>
      <div class="col-lg-6 col-12 mt-2 mt-lg-0">
        <form class="d-flex" action="/search" method="GET" role="search">
          <div class="input-group w-100">
            <input type="search" name="q" class="form-control" placeholder="Search for products, authors, ISBN..." aria-label="Search">
            <div class="input-group-append">
              <button class="btn btn-primary btn-pill" type="submit"><i class="fas fa-search"></i></button>
            </div>
          </div>
        </form>
      </div>
      <div class="col-lg-3 col-12 text-right mt-2 mt-lg-0 d-flex justify-content-end align-items-center">
        <div class="d-none d-lg-block">
          <% if (currentUser) { %>
            <a href="/dashboard" class="btn btn-outline-primary btn-pill mr-2">Hi, <%= currentUser.username %></a>
            <a href="/logout" class="btn btn-primary btn-pill">Logout</a>
          <% } else { %>
            <a href="/login" class="btn btn-outline-primary btn-pill mr-2">Login</a>
            <a href="/signup" class="btn btn-primary btn-pill">Register</a>
          <% } %>
        </div>
      </div>
    </div>
  </div>
  <!-- Topbar End -->

  <!-- Main Navbar + Sidebar/Vertical -->
  <div class="container-fluid mb-5">
    <div class="row px-xl-5">
      <div class="col-lg-3 d-none d-lg-block">
        <a class="btn shadow-none d-flex align-items-center justify-content-between bg-primary text-white w-100"
           data-toggle="collapse" href="#navbar-vertical"
           style="height: 65px; margin-top: -1px; padding: 0 30px;">
          <h6 class="m-0">Ebook Categories <i class="fa fa-angle-down text-dark"></i></h6>
        </a>

        <nav class="collapse show navbar navbar-vertical navbar-light align-items-start p-0 border border-top-0 border-bottom-0" id="navbar-vertical">
          <div class="navbar-nav w-100 overflow-hidden" style="height: 410px">
            <a href="/" class="nav-item nav-link active">Home</a>

            <% if (currentUser) { %>
              <a href="/dashboard" class="nav-item nav-link">Welcome <%= currentUser.username %>!</a>
              <a href="/logout" class="nav-item nav-link">Logout</a>
            <% } else { %>
              <a href="/login" class="nav-item nav-link">Login</a>
              <a href="/signup" class="nav-item nav-link">Register</a>
            <% } %>
            <a href="/contact" class="nav-item nav-link">Contact Us</a>
          </div>
        </nav>
      </div>

      <div class="col-lg-9">
        <nav class="navbar navbar-expand-lg bg-light navbar-light py-3 py-lg-0 px-0">
          <a href="/" class="text-decoration-none d-block d-lg-none">
          </a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse" id="navbarCollapse">
            <div class="navbar-nav mr-auto py-0">
              <a href="/" class="nav-item nav-link active">Home</a>
            </div>

            <!-- Authentication links for mobile -->
            <div class="navbar-nav ml-auto">
              <% if (currentUser) { %>
                <a href="/dashboard" class="nav-item nav-link d-lg-none">Hi, <%= currentUser.username %></a>
                <a href="/logout" class="nav-item nav-link d-lg-none">Logout</a>
              <% } else { %>
                <a href="/login" class="nav-item nav-link d-lg-none">Login</a>
                <a href="/signup" class="nav-item nav-link d-lg-none">Register</a>
              <% } %>
            </div>
          </div>
        </nav>